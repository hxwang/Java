Multiple Implementation
---

### Example 1: Lists

#### Specification of IntList
- It has no instance variables, and it has not constructor since their is no rep.
``` java
public abstract class IntList{
	//OVERVIEW: IntLists are immutable lists of Objects
	//  A typical IntList is a sequence [x_1,...,x_n]
	
	//methods
	public abstract Object first() throws EmptyEception;
		//EFFECTS: If this is empty throw EmptyEception 
		//    else return return first element of this 
		
	public abstract IntList rest() throws EmptyEception
		//EFFECTS: If this is empty throws EmptyEception else returns the 
		// list containing all but the first element of this, in the original order 
		
	public abstract Iterator elements();
		//EFFECTS: Returns a generator that will produce the elements of this 
		// each exactly once, in their order in this 
		
	public abstract IntList addE1(Object x)
		//EFFECTS: Add x to be the beginning of this 
		
	public abstact int size()
		//EFFECTS: Returns a count of the number of elements of this 
	
	public abstract boolean repOk();
	public String toString();
	public boolean equals(IntList o);
}
```

#### Implementation of IntList
``` java
public abstract class IntList{
	//OVERVIEW: IntLists are immutable lists of Objects
	// A typical IntList is a sequence [x_1,...,x_n]
	
	//abstract methods
	public abstract Object first() throws EmptyEception;
	public abstract IntList rest() throws EmptyEception;
	public abstract Iterator elements();
	public abstract IntList addE1(Object x);
	public abstract int size();
	public abstract boolean repOk();
	
	//methods
	public String toString() {...}
	public boolean equals(Object o){
		try{return equals((IntList)o);}
		catch(ClassCastException e){return false;}
	}
	
	public boolean equals(IntList o){
		//compare elements using elements iterator
	}
```

#### partial Implementation of full and empty lists
- EmptyList
	- `first` always throw `EmptyException`, no need to test, efficient
- The subclasses in the heirarchy may not be independent of one another, e.g. `EmptyIntList` uses the `FullIntList` constructor

``` java
public class EmptyIntList extends IntList{
	public EmptyIntList(){};
	
	public Object first() throw EmptyException{
		throw new EmptyException("EmptyIntList.first");
	}
	
	public IntList addE1(Object x){
		return new FullIntList(x);
	}
	
	public boolean repOk() {return true;}
	
	public String toSTring() {return "IntList:[]"}
	
	public boolean equals(Object x) {return (x instancesof EmptyIntList);}
	
	//implementations of rest and size go here
	public Iterator elements() {return new EmptyGen();}
	
	static private class EmptyGen implements Iterator{
		EmptyGen(){}
		public boolean hasNext() {return false;}
		public Object next() throws NoSuchElementException{
			throw new NoSuchElementException(("IntList.elements");
		}
	}//end EmptyGen
}

public class FullIntList extend IntList{
	private int sz;
	private Object val;
	private IntList next;
	
	public FullIntList(Object x){
		s = 1; val = x; next = new EmptyIntList();
	}
	
	public Object first() {return val;}
	public Object rest() {return val;}
	public IntList addE!(Object x){
		FullIntList n = new FullIntList(x);
		n.next = this;
		n.sz = this.sz + 1;
		return n;
	}
	
	//implementation of elements, size, repOk go here
}
```

