5.3 Implementing Data Abstraction
===

- A representation that is fast for some operations often will be slower for others. Therefore, we might require multiple implementation of the same types
	- e.g. for IntSet, if we allow one element occurs more than once, then `insert` will run faster, but `remove` or `isIn` will run slow. 

### 5.3.1 Implementing Data Abstractions in Java
#### Instance variable
- A representation typically has a number of components, each is an instance variable of the class
- When considered from the implementation point of view, objects have both `methods` and `instance variables`. However, it is important to restrict access to the instance variables to the implementation of the methods and constructors. It would make reimplementation easier.
- The instance variables are prevented from being visible by declaring them to be **private**.

### 5.3.2 Implementation of IntSet
- The object is passed as an additional, implicit argument to the constructor and methods, and they can refer to it using keyword `this`.
- GetIndex has private visibility
- Implementing using `vector` or `array`?
	- use vector, you need to convert input from `int` to `integer` type
	- use array, the size is fixed, it would need to switch to bigger arrays as the set grows
``` java
public class IntSet{
	//OVERVIEW: IntSets are mutable, unbounded set of integers
	// A typical IntSet is {x1, x_2, ... , x_n}
	private Vector els; //the representation
	
	//constructors
	public IntSet(){
		//EFFECTS: initialize this to be empty
		els = new Vector();
	}
		
	//methods
	public void insert(int x){
		//MODIFIES: this
		//EFFECTS: Adds x to the lements of this, i.e., this_post = this + {x}
		Integer y = new Integer(x);
		if(getIndex(y)<0) els.add(y);
	}
		
	public void remove(int x){
		//MODIFIES: this
		//EFFECTS: Remove x from this, i.e., this_post = this - {x}
		int i = getIndex(new Integer(x));
		if(i<0) return;
		els.set(i, els.lastElement()); //put element to index i
		ele.remove(els.size()-1); //remove last element
	}
		
	public boolean isIn(int x){
		//EFFECTS: If x is in this returns true else return false
		return getIndex(new Integer(x)) >= 0;
	}
		
	pubic int size(){
		//EFFECTS: Retuens the cardinality of this
		return els.size();
	}
		
	public int choose() throws EmptyException{
		//EFFECTS: If this is empty, throw EmptyException else
		// returns an arbitrary element of this
		if(els.size()==0) throw new EmptyException("IntSet.choose");
		return els.lastElement();
	}
	
	public int getIndex(Integer x){
		//EFFECTS: If x is in this returns index where x appears else return -1
		for(int i=0; i<els.size(); i++)
			if(x.equals(els.get(i))) return i;
		return -1;
	}
}
```